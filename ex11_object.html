<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex11_object</title>
    <script>
        // 객체(object) : 실생활에서 인식할 수 있는 모든 사물 (사람, 모니터, 자동차 등...)
        // 자바스크립트의 기본 타입은 객체이다 
        // 자바스크립에서 객체는 키(key) 와 값(value)로 구성된 속성(property)의 집합이다
        
        // 객체의 생성 
        // 1. 객체 리터럴 (리터럴 : 직접 만들어서 넣는다)
        // let 객체명 = {키:값, 키:값};  ('키:값' -> 프로퍼티)
        // 키(key) : 변수와 같은 역할을 한다
        // 값(value) : 원시 타입(숫자, 문자, undefined, 논리형 등), 함수(메소드), 객체 등 웬만한 건 다드감
        
        
        // 객체 생성
        let cat = {
            name : "나비",     // 프로퍼티 1
            family : "코리안 숏 헤어",    // 프로퍼티 2
            age : 1,    // 프로퍼티 3
            weight : 2    // 프로퍼티 4
        } 

        // 객체 출력 -> 객체명.키
        document.write(`우리집 고양이의 이름은 ${cat.name}이고, 종은 ${cat.family}입니다.`) 
        

        document.write("<hr>")


        let person = {
            name : "홍길동",
            age : 30
        };

        // 객체 출력 방법
        // 1. 객체명.키 (cat.name)
        // 2. 객체명['키'] -> value를 얻을 수 있다 (person['name'])

        document.write(`person[name] : ${person['name']} <br>`)
        document.write(`person[age] : ${person['age']} <br>`)


        document.write("<hr>")



        // 없는 키에 값만 넣으면 객체에 추가가 된다.
        person.bt = 'AB';
        document.write(`person['bt'] : ${person['bt']} <br>`)



        document.write("<hr>")



        // 객체에서 속성 삭제하기
        // delete 연산자를 사용하면 객체의 프로퍼티를 삭제할 수 있다.
        // 이때 피연산자는 프로퍼티의 key 여야 한다
        
        delete person.bt; // 속성 삭제
        document.write(`person['bt'] : ${person['bt']} <br>`) // undefined 


        document.write("<hr>")


        // 프로퍼티가 객체에 속해 있는지 확인하는 법
        // in -> 결과는 true/false 로 반환
        // 키(key)는 문자열로 묶는다
        document.write(`'name' in person : ${'name' in person} <br>`) //true


        // for-in 문을 사용하면 객체에 포함된 모든 프로퍼티에 대해
        // 반복을 수행하여 프로퍼티의 키를 반환한다. 모든 프로퍼티의 값이 반환된다.
        // 단, 순서는 보장되지 않음
        for (i in person) {
            document.write(`${i} = ${person[i]} <br>`)
        }

        
        document.write("<hr>")


        // 새로운 객체에 기존 객체를 참조시킬 수 있다.
        let x = 30;
        let y = x;
        x = 40; // x : 40, y : 30

        let person2 = person; // 기존 person 객체를 참조하여 새로운 person2 생성 
        person.age = 40; // 기존 person 객체의 age의 값을 40으로
        document.write(`person2.age : ${person2.age} <br>`) // person2.age -> 40
    


        document.write("<hr>")



        // 주소(address)
        // 메모리에 공간을 할당 받았을 때 그 할당 받은 곳까지 가는 주소
        
        // 스택(srack)영역 : 지역변수, 매개변수
        // 힙(heap) 영역 : 배열, 객체
       
        // 연산, 출력 -> 컴퓨터한테 다 시킴
        // 식을 잘 세우면 됨.


        // 객체 안에 객체 넣기
        let circle = {
            center : {x : 1.0, y : 2.0}, // 객체 안에 'center' 라는 객체 넣기
            radius : 2.5
        }

        document.write(`circle.center.x : ${circle.center.x}, circle.center.y : ${circle.center.y} <br>` )
        document.write(`circle.radius : ${circle.radius} <br>` )



        document.write("<hr>")


        
        // 객체 안에 함수도 들어갈 수 있다.
        let person3 = {
            name : "홍길동",
            age : 25,
            getInfo : function() { // 함수 생성
                document.write(`이름 : ${this.name} <br> 나이 : ${this.age} <br>`)
            } 
        }

        person3.getInfo(); // 함수 호출



        document.write("<hr>")



        // 2. 생성자를 이용한 생성
        let person4 = new Object(); // 'Object()' : 생성자
        // person4 = {   }; -> 요상태와 같음. 프로퍼티 아무것도 없음

        // 프로퍼티 추가
        person4.name = "홍길동";
        person4.age = 30;
        person4.height = 180;
        person4.sayHello = function() {
            document.write(`Hi my name is ${person4.name} <br>`);
        }

        person4.sayHello();



        document.write("<hr>")



        // 배열에 객체도 들어감..
        let arr = [42, 'hello', {name:'홍길동', age:30}]

        // 배열에 들어있는 객체의 값 꺼내기
        document.write(`${arr[2]['name']} <br>`)
        document.write(`${arr[2].name} <br>`)


        document.write("<hr>")

        
        let user = {
            name : "Alice",
            hobbies : ["독서", "여행", "요리"],
            address : {
                city : "서울",
                country : "대한민국"
            }
        }

        // 1. hobbies의 첫 번째 요소를 출력하기
        document.write(`${user.hobbies[0]} <br>`)
        // 2. addredd에서 country의 값 출력하기
        document.write(`${user.address.country} <br>`)


        document.write("<hr>")


        // ES6에서 도입된 '구조분해할당'

        // 배열이나 객체의 개별 요소들을 변수에 쉽게 할당해주는 문법
        arr = [1, 2, 3];

        // 기존 방식
        // let first = arr[0];
        // let second = arr[1];
        // let third = arr[2];

        // 구조분해할당
        // 배열의 순서를 기준으로 값들을 한 번에 변수에 할당할 수 있어
        // 코드가 간결하다.
        let [first, second, third] = arr;
        // arr에 들어있는 값들이 (오른쪽에서) 배열의 변수들에 (왼쪽으로) 차례로 대입

        document.write(`first : ${first} <br>`)
        document.write(`second : ${second} <br>`)
        document.write(`third : ${third} <br>`)
        

        document.write("<hr>")
        let p = {name:'Alice', age:25};

        // 기존 방식
        // let name = p.name
        // let age = p.age

        // 구조분해할당
        let {name, age} = p;

        document.write(`name : ${name} <br>`)
        document.write(`age : ${age} <br>`)

    </script>

</head>
<body>
    
</body>
</html>